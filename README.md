# react-yarn-v4-standard

#### ğŸ›’ í´ë”ì— ìˆëŠ” ì´ë¯¸ì§€ íŒŒì¼ ì‚­ì œ

## âœ” ì„¸íŒ… ë²„ì „ ( Version )

#### âœ” **Node** : 20.12.1

#### âœ” **Yarn berry** : 3.8.0

#### âœ” **React** : 18.2.0

## ğŸ“– íŠ¹ì§• ( Features )

## ğŸ’¡ ê·œì¹™ ( Rulse )

### _ESLint_

### _Prettier_

**useTabs**

- íƒ­(tab) ì‚¬ìš© ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë¶ˆë¦¬ì–¸ ê°’ì…ë‹ˆë‹¤.
- `use` : falseë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**printWidth**

- ì½”ë“œ ì¤„ì˜ ìµœëŒ€ ê¸¸ì´ì…ë‹ˆë‹¤.
- ì´ˆê³¼í•˜ë©´ ì¤„ ë°”ê¿ˆì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
- `use` : 80ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í•œ ì¤„ì˜ ì½”ë“œê°€ 80ìë¥¼ ì´ˆê³¼í•˜ë©´ ì¤„ ë°”ê¿ˆ

**tabWidth**

- íƒ­(tab) ë˜ëŠ” ìŠ¤í˜ì´ìŠ¤ë¡œ ë“¤ì—¬ì“°ê¸° í•  ë•Œ ì‚¬ìš©í•  ê³µë°± ìˆ˜ì…ë‹ˆë‹¤.
- `use` : 2ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ 2ì¹¸ ë“¤ì—¬ì“°ê¸°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**singleQuote**

- ë¬¸ìì—´ì„ í™‘ë”°ì˜´í‘œ(')ë¡œ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë¶ˆë¦¬ì–¸ ê°’ì…ë‹ˆë‹¤.
- `use` : trueë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í™‘ë”°ì˜´í‘œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**trailingComma**

- ê°ì²´ë‚˜ ë°°ì—´ì˜ ë§ˆì§€ë§‰ ìš”ì†Œ ë’¤ì— ì‰¼í‘œë¥¼ ì¶”ê°€í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
- `use` : "all"ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ëª¨ë“  ê²½ìš°ì— ì‰¼í‘œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

**endOfLine**

- ê°œí–‰ ë¬¸ì ì¢…ë¥˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
- `use` : "lf"ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ Unix ìŠ¤íƒ€ì¼ì˜ ì¤„ ë°”ê¿ˆ ë¬¸ì(LF)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**semi**

- ì„¸ë¯¸ì½œë¡ (;) ì‚¬ìš© ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë¶ˆë¦¬ì–¸ ê°’ì…ë‹ˆë‹¤.
- `use` : falseë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì„¸ë¯¸ì½œë¡ ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**arrowParens**

- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ì¸ ê²½ìš°ì— ê´„í˜¸ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
- `use` : "always"ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í•­ìƒ ê´„í˜¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

## 1ï¸âƒ£ ì´ˆê¸°ì„¤ì¹˜ ( Setup )

### 0. Node Version í™•ì¸

```bash
node -v  // 20.12.1
```

#### âŒ Node ë²„ì „ í‹€ë¦° ê²½ìš°

```bash
// í„°ë¯¸ë„ ì—´ê¸° (ê´€ë¦¬ìê¶Œí•œ)

(1)
nvm list
nvm use 20.12.1

(2)
# node v 20.12.1 ì—†ì„ê²½ìš° âŒ
# nvm ë²„ì „ ì„¤ì¹˜
# ë¦¬ìŠ¤íŠ¸ì— ë‹¤ìš´ë¡œë“œ ì—¬ë¶€ í™•ì¸ âœ”

nvm install 20.12.1
nvm list
nvm use 20.12.1
```

### 1. Yarn ì„¤ì¹˜

```bash
npm install -g yarn
```

### 2. create react-app ( typescript )

```bash
# React + TypeScript í”„ë¡œì íŠ¸
yarn create react-app my-app --template typescript

# TypeScript + NextJS í”„ë¡œì íŠ¸
yarn create next-app --typescript
```

### 3. Yarn berry í™œì„±í™”

```bash
# ìµœì‹ ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ
yarn set version berry

# íŠ¹ì • ë²„ì „ ë‹¤ìš´
yarn set version [version]
```

### 4. pnp ì„¤ì •

- node_modulesë¡œ ë””íœë˜ì‹œ ëª¨ë“ˆë“¤ì´ ì„¤ì¹˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
- zipìœ¼ë¡œ ëœ ê° ëª¨ë“ˆì˜ ì˜ì¡´ì„± íŠ¸ë¦¬ ì •ë³´ë“¤ì€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ .pnp.cjs íŒŒì¼ë¡œ ê´€ë¦¬

  #### 4-1 PnP ì„¤ì •

  1. .yarnrc.yml í´ë”ì—ì„œ nodeLinker ìˆ˜ì •
     ![alt text](image.png)
  2. $ yarn install
  3. Yarn berry ì™€ IDE í†µí•© - **ZipFs Plugin ìµìŠ¤í…ì…˜ì„¤ì¹˜**

```bash
yarn dlx @yarnpkg/sdks vscode

- allow ë¥¼ ëˆ„ë¥´ê³  ì‚¬ìš©í•œë‹¤
# ëˆ„ë¥´ì§€ ëª»í• ê²½ìš° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì—ì„œ
# ctrl + shift + p > Select TypeScript Version í´ë¦­ > use Workspace version í´ë¦­
```

### 5. .gitignore ì„¤ì • ( zero-install )

```bash
#.gitignore ì— ì¶”ê°€

# yarn zero install
.yarn/*
!.yarn/cache
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/sdks
!.yarn/versions
```

### âŒ App.test.tsx ì—ì„œ ì—ëŸ¬

#### Error

![alt text](image-1.png)

#### í•´ê²°

```bash
# remove
yarn remove @testing-library/jest-dom

# install
yarn add -D @types/testing-library__jest-dom @testing-library/jest-dom
```

## 2ï¸âƒ£ ESLint / Prettier ì ìš©

### vscode Extends ì„¤ì¹˜ ë° ì¤„ì‹œí€€ìŠ¤ ì„ íƒ

- Prettier - Code formatter ì„¤ì¹˜
- ESLint ì„¤ì¹˜
- vscode í•˜ë‹¨ì— ì¤„ ì‹œì¿¼ìŠ¨ë¥¼ LFë¡œ ë°”ê¿”ì¤€ë‹¤.

### ESLint ì„¤ì •

#### 1. ESLint ë° Prettier dependencies ì¶”ê°€

```bash
yarn add -D eslint prettier eslint-plugin-prettier eslint-config-prettier eslint-plugin-react eslint-config-react-app
```

âŒ Error ë°œìƒ

> Cannot find module 'prettier' from
>
> > node-modules í´ë”ê°€ ì—†ì–´ì„œ ì—ëŸ¬ê°€ ë°œìƒëœë‹¤.

```bash
# ì¬ì‹¤í–‰
yarn dlx @yarnpkg/sdks vscode
```

#### 2. Config ë¶„ë¦¬

1. í´ë”ì•ˆì— .eslintrc.json ìƒì„±
2. CRAë¡œ ë§Œë“¤ì–´ì§„ eslinConfig ì•ˆì— extends ë³µì‚¬í•´ì„œ .eslint.json ë¶™ì—¬ë„£ê¸°

```json
// .eslintrc.json
{
  "extends": ["react-app", "react-app/jest"]
}
```

3. package.json ì—ì„œ eslintConfig ì§€ìš°ê¸°

#### 3. ESLint rulse, extends ìˆ˜ì •

```json
{
  // [extends] í”„ë¡œì íŠ¸ì— ì ìš©í•  eslit ê·œì¹™ì…‹
  "extends": ["react-app", "react-app/jest", "plugin:prettier/recommended"],
  // [plugins] ì‚¬ìš©í•  eslint í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
  "plugins": ["prettier"],
  "rules": {
    // prettier ì™€ eslint ê·œì¹™ ê²¹ì¹˜ëŠ” ë¶€ë¶„ ë°©ì§€
    "prettier/prettier": "error"
  }
}
```

### Prettier ì„¤ì •

#### 1. prettier íŒŒì¼ ì¶”ê°€

- .prettierrc íŒŒì¼ìƒì„±

#### 2. prettier ê·œì¹™ ìƒì„±

```json
{
  "useTabs": false,
  "printWidth": 80,
  "tabWidth": 2,
  "singleQuote": true,
  "trailingComma": "all",
  "endOfLine": "lf",
  "semi": false,
  "arrowParens": "always"
}
```

#### 3. OS ë³„ í˜¸í™˜ì„± ë§ì¶”ê¸°

`command`

- window : ctrl + ,
- mac : ctrl + ,

1. json ì—´ê¸°ë¥¼ ëˆŒëŸ¬ì¤€ë‹¤.

![alt text](image-3.png)

2. settings.json ìˆ˜ì •

```json
{
  // íŒŒì¼ì„ ì €ì¥í•  ë•Œ eslint ìˆ˜ì •
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  // ëª¨ë“  íŒŒì¼ì„ ì €ì¥í•  ë•Œ LF í˜•ì‹ìœ¼ë¡œ ì €ì¥ (Window ì‚¬ìš©ìë§Œ ì„¤ì •)
  "files.eol": "\n"
}
```

3. yarn dlx pkg ì¬ì„¤ì¹˜

```bash
yarn dlx @yarnpkg/sdks vscode
```

âŒ Error ë°œìƒ

> Error: Required unplugged package missing from disk. This may happen when switching branches without running installs
>
> > node-mudules ê°€ ì—†ì–´ì„œ Error

```bash
# yarn install
yarn
# ì¬ì„¤ì¹˜
yarn dlx @yarnpkg/sdks vscode
```

4. lint ê²€ì‚¬ ë° ìˆ˜ì • scripts ìƒì„±

```json
"scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject",
    // íŒŒì¼ ì „ì²´ lint ê²€ì‚¬
    "lint": "eslint \"src/**/*.{js,jsx,ts,tsx}\"",
    // íŒŒì¼ ì „ì²´ lint ìˆ˜ì •
    "lint:fix": "eslint --fix \"src/**/*.{js,jsx,ts,tsx}\""
},
```

## 3ï¸âƒ£ Craco ì„¸íŒ…

### ğŸ™„ Craco ë€?

- CracoëŠ” Create-React-App Configuration Overrideì˜ ì•½ì–´
- CRAì— config ì„¤ì •ì„ ë®ì–´ì“°ê¸° ìœ„í•œ íŒ¨í‚¤ì§€
- <a href="https://craco.js.org/">Craco ì‚¬ì´íŠ¸</a>
<hr/>

#### 1. Craco ì„¤ì¹˜

```bash
yarn add -D @craco/craco
yarn add -D craco-alias
```
